 File Upload Examples
ğŸ§ª Senaryo 1: Bir belge paylaÅŸÄ±m platformunda kullanÄ±cÄ±lar dosyalarÄ±nÄ± yÃ¼kleyebiliyor
ğŸ’» Dil: C#ğŸ¤– AI: Grok
[HttpPost("upload-document")]
public async Task<IActionResult> UploadDocument(IFormFile file)
{
    if (file == null || file.Length == 0)
        return BadRequest("No file uploaded.");

    var filePath = Path.Combine("uploads", Guid.NewGuid().ToString() + Path.GetExtension(file.FileName));
    using (var stream = new FileStream(filePath, FileMode.Create))
    {
        await file.CopyToAsync(stream);
    }

    return Ok(new { FilePath = filePath });
}


ğŸ’» Dil: PythonğŸ¤– AI: Grok
from fastapi import FastAPI, File, UploadFile
import shutil
import uuid
import os

app = FastAPI()

@app.post("/upload-document")
async def upload_document(file: UploadFile = File(...)):
    file_extension = os.path.splitext(file.filename)[1]
    file_path = f"uploads/{uuid.uuid4()}{file_extension}"
    with open(file_path, "wb") as buffer:
        shutil.copyfileobj(file.file, buffer)
    return {"file_path": file_path}


ğŸ’» Dil: TypeScriptğŸ¤– AI: Grok
import { Request, Response } from 'express';
import { v4 as uuidv4 } from 'uuid';
import path from 'path';

export const uploadDocument = async (req: Request, res: Response) => {
  if (!req.file) return res.status(400).json({ error: 'No file uploaded.' });

  const fileExtension = path.extname(req.file.originalname);
  const filePath = `uploads/${uuidv4()}${fileExtension}`;
  
  // Assuming file is saved using a middleware like multer
  res.json({ filePath });
};


ğŸ§ª Senaryo 2: Bir portfolio web sitesinde kullanÄ±cÄ±lar Ã§alÄ±ÅŸmalarÄ±nÄ± yÃ¼kleyebiliyor
ğŸ’» Dil: C#ğŸ¤– AI: Grok
[HttpPost("upload-portfolio")]
public async Task<IActionResult> UploadPortfolio(IFormFile file)
{
    if (file == null || file.Length == 0)
        return BadRequest("No file uploaded.");

    var allowedTypes = new[] { ".jpg", ".mp4", ".pdf" };
    if (!allowedTypes.Contains(Path.GetExtension(file.FileName).ToLower()))
        return BadRequest("Invalid file type.");

    var filePath = Path.Combine("portfolios", Guid.NewGuid().ToString() + Path.GetExtension(file.FileName));
    using (var stream = new FileStream(filePath, FileMode.Create))
    {
        await file.CopyToAsync(stream);
    }

    return Ok(new { FilePath = filePath });
}


ğŸ’» Dil: PythonğŸ¤– AI: Grok
from fastapi import FastAPI, File, UploadFile
import shutil
import uuid
import os

app = FastAPI()

@app.post("/upload-portfolio")
async def upload_portfolio(file: UploadFile = File(...)):
    allowed_types = {'.jpg', '.mp4', '.pdf'}
    file_extension = os.path.splitext(file.filename)[1].lower()
    if file_extension not in allowed_types:
        return {"error": "Invalid file type."}
    
    file_path = f"portfolios/{uuid.uuid4()}{file_extension}"
    with open(file_path, "wb") as buffer:
        shutil.copyfileobj(file.file, buffer)
    return {"file_path": file_path}


ğŸ’» Dil: TypeScriptğŸ¤– AI: Grok
import { Request, Response } from 'express';
import { v4 as uuidv4 } from 'uuid';
import path from 'path';

export const uploadPortfolio = async (req: Request, res: Response) => {
  if (!req.file) return res.status(400).json({ error: 'No file uploaded.' });

  const allowedTypes = ['.jpg', '.mp4', '.pdf'];
  const fileExtension = path.extname(req.file.originalname).toLowerCase();
  if (!allowedTypes.includes(fileExtension)) {
    return res.status(400).json({ error: 'Invalid file type.' });
  }

  const filePath = `portfolios/${uuidv4()}${fileExtension}`;
  res.json({ filePath });
};


ğŸ§ª Senaryo 3: Bir mÃ¼zik paylaÅŸÄ±m sitesinde sanatÃ§Ä±lar eserlerini yÃ¼kleyebiliyor
ğŸ’» Dil: C#ğŸ¤– AI: Grok
[HttpPost("upload-track")]
public async Task<IActionResult> UploadTrack(IFormFile audioFile, IFormFile coverImage)
{
    if (audioFile == null || audioFile.Length == 0)
        return BadRequest("No audio file uploaded.");

    var audioPath = Path.Combine("tracks", Guid.NewGuid().ToString() + Path.GetExtension(audioFile.FileName));
    using (var stream = new FileStream(audioPath, FileMode.Create))
    {
        await audioFile.CopyToAsync(stream);
    }

    string coverPath = null;
    if (coverImage != null && coverImage.Length > 0)
    {
        coverPath = Path.Combine("covers", Guid.NewGuid().ToString() + Path.GetExtension(coverImage.FileName));
        using (var stream = new FileStream(coverPath, FileMode.Create))
        {
            await coverImage.CopyToAsync(stream);
        }
    }

    return Ok(new { AudioPath = audioPath, CoverPath = coverPath });
}


ğŸ’» Dil: PythonğŸ¤– AI: Grok
from fastapi import FastAPI, File, UploadFile
import shutil
import uuid
import os

app = FastAPI()

@app.post("/upload-track")
async def upload_track(audio_file: UploadFile = File(...), cover_image: UploadFile = File(None)):
    audio_path = f"tracks/{uuid.uuid4()}{os.path.splitext(audio_file.filename)[1]}"
    with open(audio_path, "wb") as buffer:
        shutil.copyfileobj(audio_file.file, buffer)

    cover_path = None
    if cover_image:
        cover_path = f"covers/{uuid.uuid4()}{os.path.splitext(cover_image.filename)[1]}"
        with open(cover_path, "wb") as buffer:
            shutil.copyfileobj(cover_image.file, buffer)

    return {"audio_path": audio_path, "cover_path": cover_path}


ğŸ’» Dil: TypeScriptğŸ¤– AI: Grok
import { Request, Response } from 'express';
import { v4 as uuidv4 } from 'uuid';
import path from 'path';

export const uploadTrack = async (req: Request, res: Response) => {
  const audioFile = req.files?.audioFile;
  const coverImage = req.files?.coverImage;

  if (!audioFile) return res.status(400).json({ error: 'No audio file uploaded.' });

  const audioPath = `tracks/${uuidv4()}${path.extname(audioFile.name)}`;
  // Assuming file is saved using a middleware like multer

  let coverPath: string | null = null;
  if (coverImage) {
    coverPath = `covers/${uuidv4()}${path.extname(coverImage.name)}`;
  }

  res.json({ audioPath, coverPath });
};

